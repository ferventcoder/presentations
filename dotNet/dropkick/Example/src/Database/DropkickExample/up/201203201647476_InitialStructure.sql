IF schema_id('dk') IS NULL
    EXECUTE('CREATE SCHEMA [dk]')
CREATE TABLE [dk].[Users] (
    [Id] [bigint] NOT NULL IDENTITY,
    [UserName] [nvarchar](max),
    [FirstName] [nvarchar](max),
    [LastName] [nvarchar](max),
    [Email] [nvarchar](max),
    CONSTRAINT [PK_dk.Users] PRIMARY KEY ([Id])
)
CREATE TABLE [dk].[Parents] (
    [Id] [bigint] NOT NULL IDENTITY,
    [Name] [nvarchar](max),
    [Description] [nvarchar](max),
    CONSTRAINT [PK_dk.Parents] PRIMARY KEY ([Id])
)
CREATE TABLE [dk].[Children] (
    [Id] [bigint] NOT NULL IDENTITY,
    [Name] [nvarchar](max),
    [Description] [nvarchar](max),
    [ParentObjectId] [bigint] NOT NULL,
    CONSTRAINT [PK_dk.Children] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ParentObjectId] ON [dk].[Children]([ParentObjectId])
ALTER TABLE [dk].[Children] ADD CONSTRAINT [FK_dk.Children_dk.Parents_ParentObjectId] FOREIGN KEY ([ParentObjectId]) REFERENCES [dk].[Parents] ([Id]) ON DELETE CASCADE
CREATE TABLE [__MigrationHistory] (
    [MigrationId] [nvarchar](255) NOT NULL,
    [CreatedOn] [datetime] NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK___MigrationHistory] PRIMARY KEY ([MigrationId])
)
BEGIN TRY
    EXEC sp_MS_marksystemobject '__MigrationHistory'
END TRY
BEGIN CATCH
END CATCH
INSERT INTO [__MigrationHistory] ([MigrationId], [CreatedOn], [Model], [ProductVersion]) VALUES ('201203201647476_InitialStructure', '2012-03-20T16:48:12.593Z', 0x1F8B0800000000000400ECBD07601C499625262F6DCA7B7F4AF54AD7E074A10880601324D8904010ECC188CDE692EC1D69472329AB2A81CA6556655D661640CCED9DBCF7DE7BEFBDF7DE7BEFBDF7BA3B9D4E27F7DFFF3F5C6664016CF6CE4ADAC99E2180AAC81F3F7E7C1F3F22FEC7BFF71F7CFC7BBC5B94E9655E3745B5FCECA3DDF1CE4769BE9C56B36279F1D947EBF67CFBE0A3DFE3E8374E1E9FCE16EFD29F34EDF6D08EDE5C369F7D346FDBD5A3BB779BE93C5F64CD78514CEBAAA9CEDBF1B45ADCCD66D5DDBD9D9D83BBBB3B777302F111C14AD3C7AFD6CBB658E4FC07FD79522DA7F9AA5D67E517D52C2F1BFD9CBE79CD50D317D9226F56D934FFECA3A775B57A5B4C7FAFD377D96255E6E362795E674D5BAFA7EDBACEC7D96A355E01CDA6A571E41FA5C765911196AFF3F2FC3D51DE7908943FB2C8103AA784767BFDE67A95334A049691F8AAC96BBF1DB5FCBDF2EBE003FAE825619ED7EDF5ABFC5CDF3E9B7D94DE0DDFBBDB7DD1BEE6BD0304E8B765FBE9FE47E98B75596693923E38CFCA8646BCFAF4D1EBB6AAF3CFF3655E676D3E7B99B56D5E2FF16ECE0350423C5A7D7A3B5A3CBCBBB3075ADCCD96CBAACD5AE2811EE21D344112FC66907DDDD6C4521FA5CF8A77F9EC79BEBC68E716E12FB277E613FAF5A3F4AB65411C482FD1ACE6FE00E5EFCD1D3F2BEAA6FD39E9F979F673D4F1E9222BCA9FE55E1FDF75BC7F0B897899D5C46A5F4E7E3A9FB63F928C00CD9F1316799A37D3BA58097E3FDB7DBFC82E8B0BA645078B937951CE88313E4A5FE5253768E6C54A94F3B8CF38BFBF6BFFACAE16AF2AF4B8A1D9EFFFBA5AD7D0F96FAA9BDBBEC9EA8BBCFD202667583FE2F1089AFFFFE7F14EDF3E8FDD3C47B79597408BFE2CC98C9183DBC88C91AFDBC8CC71D354D382111EB40C0ED99020A7CB597A7B6C74AAE3F4A0795E976DB12A8B2921491E6ED81575F6E5F2695EE66D9E1E4F812C69A9AC9966B3FE34D140675F074F4BE12E9EBEFEE8A0F9AD5EEFA43772402FB292DC657278B362D9F6954CB19C16ABACBC055A4ABE0E885B6A2A90C376D6FDE669BECA975036B7C04289731B2CBA32D6C7C876DC99B89B68F7F8AEC7AD7DC54FEFB4F4465E1B4593B5D9246B727C9EBFEBEA7E79E775DEF64284E6A3D4C94AC0091C4074673C0EC8A7C230C050046E05D8E3C661B801CB76C07A34DC84B4A7A1BC376EA1D0BAD37D3BE9335AC20E7A80903D6EBA1D7823DC3DF02139BBAA24A455449D5A9EB3DF3DBE2BC1B07EF0F8EE40D4FCF80B8A81C9EA7951B47E92BE9610FA64FBF5FB87C20B817177DA4422628BADED895C90EC22EF7C4B5D13A61CA11919FA283D992D7ACD6E2961A6B7BEA0F527D3B0B37907BFAB38BF5746C197D8BED652E8CF68F00B284076C57ABC117F3945BA232BB33AE2F39D54E57AB11CD6C6C36FBB40DC87E13EBD3D242FB2F641791FDF1E968B957D50EED3DB43D2E0D707A31FF5613CBEDB999F9E05E9F149476EBBACF71E8C19EA9B9F75061D8EC0B9BFDB31EA66203F3B0CDB678BF765892010F001055FFCBF8C3D027BF1B3CE1D83A12B77773BE6D808E3FF6FBC3104AFEB94FA206F72587F9639AEE74A749AB8DEF525FBB77525D48C07FE0553A29B95EFD97569F2514AE4BA2C66B0E9AFAF890317633418BFFE45E54959D0785D832FB265719E37ED9BEA6D8E1506723BBE7EF2DEA62C9A6656FEBF37833F292E0AD0E0C684CD4D1984419B2FFD2C2FB37A3ACFEAAD45F6EECEFBA6367A09F50F82D64D927F10B020F1FD1E90DE33CFF7739BCCFED962926F6C162279B7F780F79E73F1739A73FDFFF954F4E1752D5848868DA3FC61E705FFDF94070CB224FFAF48FB45136C370B0746FB9E69BECD9EE5FF8BB37AFDD4447792D5D3EA3B0E9BD37AE20A7DF6D1EC2D3183C88B66033B731DEF21E4E2819EC246911EA5C16DFB0C5874A0CBA04DA44797E6EB74F9FFA63CE10D79C1083B6E94F51EB04DF9D26F2409D8F7D04930D6F4F642B42E4969535C38108F09E632670DE7809A3667CBF3CA48680723D3A46320BEC8DB6C46F2725CB7C579366DE9EB69DE34BCE8F69359B9CEE1A44DF2D9D9F2CB75BB5AB734E47C3129AF7D6240C237F5CF99CE10E7C75FB28DF34292AF3F0442B3A021E45F2E9FAC69B22CDECF22366D00045487BA0398CB166EC1C5B585F4A25ADE129092EFA9D1786F72622202D67CB97C9D5DE6C3B8DD4CC390628F9F16D9459D2D7C0ACA27813CBA2EA803FF0DD71FFD49EC3A5BBC3BFA7F020000FFFFD67ECBB14F260000, '4.3.0')
